<link rel="stylesheet" type="text/css" href="./public/css/my_character.css">
<div class="screen">
    <div id="me-container">
        <div id="head-container">
            <div id="hair-container">
                <div id="hair-1"></div>
                <div id="hair-2"></div>
                <div id="hair-3"></div>
            </div>
            <div id="face-container">
                <div id="glasses">
                    <div id="left-eye">
                        •
                    </div>
                    <div id="bridge"></div>
                    <div id="right-eye">
                        •
                    </div>
                </div>
                <div id="mouth"></div>
            </div>
        </div>
        <div id="upper-body-container">
            <div id="left-arm-container">
                <div id="left-arm"></div>
                <div id="left-hand"></div>
            </div>
            <div id="my-body">
            </div>
            <div id="right-arm-container">
                <div id="right-arm"></div>
                <div id="right-hand"></div>
            </div>
        </div>
        <div id="lower-body-container">
            <div id="hip">
            </div>
            <div id="left-leg-container">
                <div id="left-leg"></div>
                <div id="left-feet"></div>
            </div>
            <div id="right-leg-container">
                <div id="right-leg"></div>
                <div id="right-feet"></div>
            </div>
        </div>
    </div>
</div>
<style type="text/css">
body{
    height: 30000px;
}

.screen{
    width: 100%;
    position: fixed;
    top:0;
}
#me-container{
    margin: 5em auto;

}
</style>
<script type="text/javascript">
    var scrolling = false;
    var scrollUp = false;
    var document_y_pos = document.body.scrollTop;

    function removeAnimationClass(){
        document.querySelector("#left-arm-container").className = "";
        document.querySelector("#right-arm-container").className = "";
        document.querySelector("#left-leg-container").className = "";
        document.querySelector("#right-leg-container").className = "";
    }
    function addAnimationClass(){
        document.querySelector("#left-arm-container").className = "left-arm-move";
        document.querySelector("#right-arm-container").className = "right-arm-move";
        document.querySelector("#left-leg-container").className = "left-leg-move";
        document.querySelector("#right-leg-container").className = "right-leg-move";
    }

    function stopCheckPosition(){
        clearInterval(checkYPosition);
    }

    var checkYPosition; 

    function isScrollingUp(){
        var ans = document.body.scrollTop < document_y_pos;
        document_y_pos = document.body.scrollTop;
        return ans;
    }

    document.onscroll = function(){

        if(!scrolling){
            scrolling = true;
            addAnimationClass();
            checkYPosition = setInterval(function(){
            var position_now = document.body.scrollTop;

            setTimeout(function(){
                if(document_y_pos === position_now){
                    scrolling = false;
                    removeAnimationClass();
                    clearInterval(checkYPosition);
                    console.log("removed");
                }else{
                    document_y_pos = document.body.scrollTop
                }
            },300)
        }, 1000);
        }else{
            // console.log(document_y_pos);
        }

        if(isScrollingUp()){
            document.querySelector("#me-container").className = "turned-back";
        }else{
            document.querySelector("#me-container").className = "";
        }
    }
</script>